---
layout: post
title: "HTTP 프로토콜의 진화: 1.0부터 3.0까지"
date: 2025-01-07 11:00:00 +0000
categories: [network, protocols]
tags: [http, http2, http3, web-protocols, performance, multiplexing, quic]
excerpt: "HTTP 1.0부터 3.0까지 웹 프로토콜의 진화 과정을 살펴보고, 각 버전의 주요 특징과 개선점을 분석합니다."
---

## 들어가며

HTTP(HyperText Transfer Protocol)는 웹의 근간을 이루는 통신 프로토콜입니다. 1990년대 초 HTTP/0.9로 시작된 이후, 웹의 발전과 함께 지속적으로 진화해왔습니다.

이 글에서는 HTTP 1.0부터 3.0까지의 발전 과정을 살펴보고, 각 버전이 해결하고자 했던 문제와 도입한 혁신적 기술들을 분석해보겠습니다.

## HTTP 1.0 - 웹의 시작

### 특징

HTTP 1.0은 1996년에 정의된 초기 HTTP 표준입니다.

- **비영속적 연결**: 매 요청마다 새로운 TCP 연결 필요
- **기본 특성**: 간단한 헤더 세트 (Content-Type, User-Agent, Server 등)
- **기본 메서드**: GET, POST, HEAD
- **제한적인 캐싱**: 기본적인 캐시 메커니즘 (Expires, Last-Modified)

### 한계

- **각 리소스마다 새로운 연결 설정 필요**: TCP 3-way handshake 오버헤드
- **헤더 압축 없음**: 모든 헤더가 평문으로 전송
- **가상 호스팅 지원 제한적**: 헤더에 `Host` 옵션이 없었기 때문에 하나의 IP에 하나의 도메인만 가능

### 연결 방식

```
클라이언트          서버
    |               |
    |-- TCP 연결 -->  |
    |-- HTTP 요청 --> |
    |<-- HTTP 응답 -- |
    |-- TCP 종료 -->  |
    |               |
    |-- TCP 연결 -->  | (새로운 요청을 위해)
    |-- HTTP 요청 --> |
    |<-- HTTP 응답 -- |
    |-- TCP 종료 -->  |
```

## HTTP 1.1 - 웹의 성장

### 주요 개선점

HTTP 1.1은 1997년에 도입되어 가장 오랫동안 사용된 버전입니다.

#### 1. 영속적 연결 (Keep-Alive)
- **기본적으로 Keep-Alive 지원**: 여러 요청에 하나의 TCP 연결 재사용
- HTTP 1.0에서는 옵션이었지만, 1.1에서는 기본값으로 채택

#### 2. 가상 호스팅
- **Host 헤더**: 가상 호스팅 지원 (동일 IP에 여러 도메인)
- 이로 인해 웹 호스팅 비용이 크게 절약됨

#### 3. 파이프라이닝
- **응답을 기다리지 않고 여러 요청 전송 가능**
- 이론적으로는 성능 향상이지만 실제 구현에서는 문제가 많았음

#### 4. 청크 전송 인코딩
- **콘텐츠 크기를 모르는 상태에서 데이터 전송 가능**
- 미리 알려진 크기의 청크로 데이터 전송
- `Transfer-Encoding: chunked`로 지정

#### 5. 추가 HTTP 메서드
- **새로운 메서드**: OPTIONS, PUT, DELETE, TRACE, CONNECT

#### 6. 향상된 캐싱
- **Cache-Control**: 더 세밀한 캐시 제어
- **ETag(Entity Tag)**: 리소스의 특정 버전 식별자
- **조건부 요청**: If-Modified-Since, If-None-Match 등

### 한계

HTTP 1.1도 여전히 문제점들이 있었습니다:

- **텍스트 기반 헤더로 인한 오버헤드**: 모든 헤더가 평문으로 전송
- **파이프라이닝 실제 구현 문제**: 브라우저와 서버의 구현 복잡성
- **HOL(Head-of-Line) 차단**: 요청/응답이 순차적으로 처리됨

### Keep-Alive 동작 방식

```
클라이언트          서버
    |               |
    |-- TCP 연결 -->  |
    |-- HTTP 요청1 -> |
    |<-- HTTP 응답1 - |
    |-- HTTP 요청2 -> | (같은 연결 재사용)
    |<-- HTTP 응답2 - |
    |-- HTTP 요청3 -> |
    |<-- HTTP 응답3 - |
    |-- TCP 종료 -->  | (일정 시간 후 또는 명시적 종료)
```

## HTTP 2.0 - 성능의 혁명

### 주요 개선점

HTTP 2.0은 2015년에 도입되어 웹 성능을 획기적으로 개선했습니다.

#### 1. 바이너리 프로토콜
- **텍스트가 아닌 바이너리 형식으로 변환**
- 파싱 속도 향상 및 오류 발생률 감소

#### 2. 멀티플렉싱 (Multiplexing)
- **단일 TCP 연결에서 여러 요청/응답 동시 처리**
- HOL 차단 문제 해결
- 각 요청/응답은 독립적인 스트림으로 처리

```
HTTP/1.1 (순차 처리):
요청1 → 응답1 → 요청2 → 응답2 → 요청3 → 응답3

HTTP/2.0 (병렬 처리):
요청1 ↘
요청2 → 단일 TCP 연결 → ↗ 응답1
요청3 ↗                ↘ 응답2
                        ↗ 응답3
```

#### 3. 헤더 압축 (HPACK)
- **HTTP 헤더 압축으로 오버헤드 감소**
- 중복 헤더 필드 제거
- 이전 요청의 헤더 정보를 참조하여 효율성 증대

#### 4. 서버 푸시
- **클라이언트 요청 없이도 리소스 전송 가능**
- HTML 파일 요청 시 필요한 CSS, JS 파일을 미리 전송
- 실제로는 복잡성 때문에 많이 사용되지 않음

#### 5. 스트림 우선순위
- **각 요청/응답 스트림에 우선순위 부여 가능**
- 중요한 리소스를 우선적으로 전송

### 한계

- **TCP 기반의 근본적 한계**: 패킷 손실 시 전체 연결에 영향
- **서버 푸시의 복잡성**: 실제 환경에서 예상보다 효과 제한적
- **HOL 차단의 TCP 레벨 잔존**: 애플리케이션 레벨에서는 해결했지만 TCP 레벨에서는 여전히 존재

## HTTP 3.0 - 차세대 웹 프로토콜

### 주요 개선점

HTTP 3.0은 2020년에 정의되어 근본적인 전환을 이루었습니다.

#### 1. QUIC 기반
- **TCP 대신 UDP 기반의 QUIC 프로토콜 사용**
- 연결 설정 시간 단축 (0-RTT 연결 설정 가능)
- 패킷 손실에 대한 개별 스트림 처리

#### 2. 내장된 TLS
- **TLS 1.3이 프로토콜에 내장**
- 암호화가 기본값이며 별도 설정 불필요

#### 3. 연결 마이그레이션
- **네트워크 변경 시에도 연결 유지**
- 모바일에서 WiFi → 셀룰러 전환 시에도 연결 지속

#### 4. HOL 차단 완전 해결
- **UDP 기반으로 패킷 손실이 다른 스트림에 영향 없음**
- 각 스트림이 완전히 독립적으로 처리

### QUIC의 혁신

```
HTTP/2 (TCP):
패킷 손실 → 전체 연결 차단 → 모든 스트림 대기

HTTP/3 (QUIC/UDP):
패킷 손실 → 해당 스트림만 영향 → 다른 스트림은 정상 진행
```

#### 5. 0-RTT 연결
- **이전 연결 정보를 활용한 즉시 데이터 전송**
- 연결 설정과 데이터 전송을 동시에 수행

### 도전 과제

- **UDP 기반의 방화벽/NAT 이슈**: 일부 네트워크 장비에서 차단
- **구현 복잡성**: QUIC 프로토콜 스택의 복잡성
- **생태계 성숙도**: 아직 발전 중인 표준

## 성능 비교 및 발전 방향

### 연결 수 비교

```
HTTP/1.0: 리소스당 1개 연결 (연결 → 요청 → 응답 → 종료)
HTTP/1.1: 도메인당 6-8개 연결 (Keep-Alive로 재사용)
HTTP/2.0: 도메인당 1개 연결 (멀티플렉싱)
HTTP/3.0: 도메인당 1개 연결 (QUIC 기반, 더 빠른 설정)
```

### 레이턴시 개선

- **HTTP/1.1 → HTTP/2**: 20-50% 성능 향상
- **HTTP/2 → HTTP/3**: 패킷 손실 환경에서 최대 2배 성능 향상

## 결론

HTTP 프로토콜의 진화는 웹의 발전과 밀접한 관련이 있습니다:

- **HTTP 1.0**: 단순한 문서 전송
- **HTTP 1.1**: 웹사이트의 복잡성 증가에 대응
- **HTTP 2.0**: 리치 웹 애플리케이션의 성능 요구사항 충족  
- **HTTP 3.0**: 모바일과 실시간 애플리케이션 시대 대응

각 버전은 이전 버전의 한계를 해결하면서도 새로운 도전 과제를 제시했습니다. 현재 HTTP 3.0이 널리 채택되고 있지만, 웹의 요구사항이 계속 진화함에 따라 프로토콜도 지속적으로 발전할 것입니다.

웹 개발자로서 이러한 프로토콜의 특성을 이해하고 활용하는 것은 성능 최적화와 사용자 경험 개선에 필수적입니다.